"use strict";$(function(){let e,t=$("body");$(document).on("click",'[data-action="popup:quotes,report"]',function(o){let a=$(this),r=a.closest("quote").data("json"),d=r[0].qid,s=dynamicHost+"/template/quotes/_report";e=Overlay.add(t,$(this),!1),$.ajax({type:"POST",url:s,dataType:"HTML",data:{qid:d},success:function(t){$("body").find("response-overlay"),$('[data-form="quotes,add"]');0===parseInt(t)?(showErrorModule("You need to have atleast one Quote with 20 upvotes!"),closeOverlay()):setTimeout(()=>{e.overlay.append(t),fitPopupModule()},400)},error:function(e){showErrorModule("Some randomness just happened, try again!")}})}).on("click",'[data-action="popup:quotes,edit"]',function(e){let t;categoryArray=[];let o=$(this),a=o.closest("quote"),r=a.data("json"),d=r[0].qid,s=dynamicHost+"/dyn/quickies/get-quote-categories";$.ajax({type:"POST",url:s,data:{qid:d},dataType:"HTML",beforeSend:function(){addOverlay(),togglebody()},success:function(e){0!==parseInt(e)?(categoryArray=JSON.parse(e),$.ajax({type:"POST",url:"/dyn/popups/quotes-edit",data:{qid:d},dataType:"HTML",success:function(e){t=$("body").find("response-overlay");$('[data-form="quotes,add"]');0===parseInt(e)?(showErrorModule("A wild error appeared! Fight it!"),closeOverlay()):(t.empty(),t.append(e),fitPopupModule(),resizeTextarea("textarea"))},error:function(e){showErrorModule("Some randomness just happened, try again!")}})):(showErrorModule("A wild error appeared! Fight it!"),closeOverlay())},error:function(){}})}).on("click","[data-action='popups:quotes,delete']",function(){let e,o,a,r,d;d=Overlay.add(t,$(this),!1),e=$(this),o=e.closest("quote").data("json")[0].qid,r={qid:o},a=dynamicHost+"/template/quotes/_archive",$.ajax({url:a,data:r,dataType:"HTML",method:"POST",success:e=>{e?d.overlay.prepend(e):showErrorModule(stdErrorOutput)},error:e=>{showErrorModule(stdErrorOutput)}})})});