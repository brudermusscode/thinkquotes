"use strict";$(function(){let e=$("body");$(document).on("click",'[data-action="popup:quotes,report"]',function(e){var o=$(this),t=o.closest("quote").data("json"),a=t[0].qid;let r=dynamicHost+"/do/quotes/_report";$.ajax({type:"POST",url:r,dataType:"HTML",data:{qid:a},beforeSend:function(){addOverlay(),togglebody()},success:function(e){var o=$("body").find("response-overlay");$('[data-form="quotes,add"]');0===parseInt(e)?(showErrorModule("You need to have atleast one Quote with 20 upvotes!"),closeOverlay()):(o.empty(),o.append(e),fitPopupModule())},error:function(e){showErrorModule("Some randomness just happened, try again!")}})}).on("click",'[data-action="popup:quotes,edit"]',function(e){let o;categoryArray=[];let t=$(this),a=t.closest("quote"),r=a.data("json"),d=r[0].qid,s=dynamicHost+"/dyn/quickies/get-quote-categories";$.ajax({type:"POST",url:s,data:{qid:d},dataType:"HTML",beforeSend:function(){addOverlay(),togglebody()},success:function(e){0!==parseInt(e)?(categoryArray=JSON.parse(e),$.ajax({type:"POST",url:"/dyn/popups/quotes-edit",data:{qid:d},dataType:"HTML",success:function(e){o=$("body").find("response-overlay");$('[data-form="quotes,add"]');0===parseInt(e)?(showErrorModule("A wild error appeared! Fight it!"),closeOverlay()):(o.empty(),o.append(e),fitPopupModule(),resizeTextarea("textarea"))},error:function(e){showErrorModule("Some randomness just happened, try again!")}})):(showErrorModule("A wild error appeared! Fight it!"),closeOverlay())},error:function(){}})}).on("click","[data-action='popups:quotes,delete']",function(){let o,t,a,r,d;d=Overlay.add(e,$(this),!1),o=$(this),t=o.closest("quote").data("json")[0].qid,r={qid:t},a=dynamicHost+"/template/quotes/_archive",$.ajax({url:a,data:r,dataType:"HTML",method:"POST",success:e=>{e?d.overlay.prepend(e):showErrorModule(stdErrorOutput)},error:e=>{showErrorModule(stdErrorOutput)}})})});