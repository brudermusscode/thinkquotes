"use strict";$(function(){let e,t=$("body");$(document).on("click",'[data-action="popup:quotes,report"]',function(){let o=$(this),r=o.closest("quote").data("json"),a=r[0].qid,s=dynamicHost+"/template/quotes/_report";console.log("Requested report quote: quote_id is",parseInt(a)),e=Overlay.add(t,$(this),!1),$.ajax({type:"POST",url:s,dataType:"HTML",data:{quote_id:a},success:t=>{t?e.overlay.prepend(t):showErrorModule(stdErrorOutput)},error:()=>{showErrorModule("Some randomness just happened, try again!")}})}).on("click",'[data-action="popup:quotes,edit"]',function(){let e;categoryArray=[];let t=$(this),o=t.closest("quote"),r=o.data("json"),a=r[0].qid,s=dynamicHost+"/dyn/quickies/get-quote-categories";$.ajax({type:"POST",url:s,data:{qid:a},dataType:"HTML",beforeSend:function(){addOverlay(),togglebody()},success:function(t){0!==parseInt(t)?(categoryArray=JSON.parse(t),$.ajax({type:"POST",url:"/dyn/popups/quotes-edit",data:{qid:a},dataType:"HTML",success:function(t){e=$("body").find("response-overlay");$('[data-form="quotes,add"]');0===parseInt(t)?(showErrorModule("A wild error appeared! Fight it!"),closeOverlay()):(e.empty(),e.append(t),fitPopupModule(),resizeTextarea("textarea"))},error:function(e){showErrorModule("Some randomness just happened, try again!")}})):(showErrorModule("A wild error appeared! Fight it!"),closeOverlay())},error:function(){}})}).on("click","[data-action='popups:quotes,delete']",function(){let e,o,r,a,s;s=Overlay.add(t,$(this),!1),e=$(this),o=e.closest("quote").data("json")[0].qid,a={qid:o},r=dynamicHost+"/template/quotes/_archive",$.ajax({url:r,data:a,dataType:"HTML",method:"POST",success:e=>{e?s.overlay.prepend(e):showErrorModule(stdErrorOutput)},error:()=>{showErrorModule(stdErrorOutput)}})})});